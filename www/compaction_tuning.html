<!DOCTYPE html>
<html lang="en">
<head>
	<title>NetData Dashboard</title>

	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <script>
    var netdataTheme = 'slate';
    </script>
	<script type="text/javascript" src="http://10.200.179.134:19999/dashboard.js"></script>

    <link href="css/style.css" rel="stylesheet">

</head>
<body>

    <div id="wrapper">

        <!-- Navigation -->
        <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="search_tuning.html">OpsCenter Realtime Insights</a>
            </div>

             <div class="navbar-default sidebar" role="navigation">
                <div class="sidebar-nav navbar-collapse">
                    <ul class="nav" id="side-menu">
                        <li>
                            <a href="search_tuning.html"><i class="fa fa-dashboard fa-fw"></i> DSE Search Indexing</a>
                        </li>
                       <li>
                            <a href="compaction_tuning.html"><i class="fa fa-dashboard fa-fw"></i> Compactions </a>
                        </li>

                    </ul>
                </div>
                <!-- /.sidebar-collapse -->
            </div>
            <!-- /.navbar-static-side -->
        </nav>

        <div id="page-wrapper">
            <div role="sectionhead"><h1 id="system" role="heading">Compactions - Realtime Tuning</h1></div>

            <div>
                <p style="display:inline">C* compactions are the process of merging sstables together to cleanse outdated data, garbage collect tombstones, and reduce data fragmentation. Having too many sstables per read will affect your read performance negatively. If you are falling behind on compactions (see pending compactions) you can tune compaction throughput and concurrent compactors.

                Currently you are running <span style="color:#FF5555" id="corecompactorthreads_value"></span> threads 
                (<div 
                                                                                                data-netdata="org.apache.cassandra.db.compactionmanager-org.apache.cassandra.db.corecompactorthreads"
                                                                                                data-dimensions="corecompactorthreads"
                                                                                                data-after="-120" 
                                                                                                data-width="10" 
                                                                                                data-height="15px" 
                                                                                                data-chart-library="dygraph" 
                                                                                                data-dygraph-theme="sparkline" 
                                                                                                data-show-value-of-corecompactorthreads-at="corecompactorthreads_value"></div>).


                Click to <a href="">increase</a> or <a href="">decrease</a> the number of compactors.
                </p>
            </div>

            <div style="width: 100%; text-align: center;">
	    	<div style="display:inline;">
		     <div data-netdata="users.preads"
			  data-dimensions="cassandra"
			  data-chart-library="gauge"
			  data-width="150px"
			  data-after="-60"
			  data-points="60"
			  data-title="IO Reads (Cassandra user)"
			  data-units="tps"
			  data-colors="#0099c6"
		     ></div>
		     <div data-netdata="users.pwrites"
			  data-dimensions="cassandra"
			  data-chart-library="gauge"
			  data-width="150px"
			  data-after="-60"
			  data-points="60"
			  data-title="IO Writes (Cassandra user)"
			  data-units="tps"
			  data-colors="#bb44cc"
		     ></div>
		     <br/>
		</div>

                <div data-netdata="cpu.cpu3"
                     data-dimensions="nice"
                     data-chart-library="gauge"
                     data-width="150px"
                     data-after="-60"
                     data-points="60"
                     data-title="CPU (nice - compaction CPU)"
                     data-units="%"
                     data-colors="#FF5555"
                     ></div>
                <br/>


                <p style="text-align:left; display:inline">
                <div data-netdata="netdata.server_cpu"
                     data-dimensions="user"
                     data-chart-library="dygraph"
                     data-dygraph-theme="sparkline"
                     data-width="200px"
                     data-height="30px"
                     data-after="-60"
                     data-points="60"
                     data-colors="#FF5555"
                     ></div>

                 Ensure that you have selected the right compaction for your datamodel.</p>

                <div data-netdata="org.apache.cassandra.db.compactionmanager-org.apache.cassandra.db.pendingtasks"
                     data-title="Pending Compactions"
                     ></div>
                <div data-netdata="org.apache.cassandra.db.compactionmanager-org.apache.cassandra.db.totalbytescompacted"
                     data-title="Total bytes compacted"
                     ></div>


            </div>
</body>
</html>
